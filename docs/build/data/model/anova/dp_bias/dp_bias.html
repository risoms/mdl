<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0" charset="utf-8"/>
	<title>dotprobe analysis</title>
	<!--no cache-->
	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
	<meta http-equiv="Pragma" content="no-cache"/>
	<meta http-equiv="Expires" content="0"/>
	<meta name="msapplication-TileColor" content="#FFFFFF">
	<meta name="msapplication-TileImage" content="imhr/favicon/favicon-144.png">
	<meta name="msapplication-config" content="docs/favicon/browserconfig.xml">
	<!--icons-->
	<link rel="shortcut icon" href="imhr/favicon/favicon.ico">
	<link rel="icon" sizes="16x16 32x32 64x64" href="imhr/favicon/favicon.ico">
	<link rel="icon" type="image/png" sizes="196x196" href="imhr/favicon/favicon-192.png">
	<link rel="icon" type="image/png" sizes="160x160" href="imhr/favicon/favicon-160.png">
	<link rel="icon" type="image/png" sizes="96x96" href="imhr/favicon/favicon-96.png">
	<link rel="icon" type="image/png" sizes="64x64" href="imhr/favicon/favicon-64.png">
	<link rel="icon" type="image/png" sizes="32x32" href="imhr/favicon/favicon-32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="imhr/favicon/favicon-16.png">
	<link rel="apple-touch-icon" href="imhr/favicon/favicon-57.png">
	<link rel="apple-touch-icon" sizes="114x114" href="imhr/favicon/favicon-114.png">
	<link rel="apple-touch-icon" sizes="72x72" href="imhr/favicon/favicon-72.png">
	<link rel="apple-touch-icon" sizes="144x144" href="imhr/favicon/favicon-144.png">
	<link rel="apple-touch-icon" sizes="60x60" href="imhr/favicon/favicon-60.png">
	<link rel="apple-touch-icon" sizes="120x120" href="imhr/favicon/favicon-120.png">
	<link rel="apple-touch-icon" sizes="76x76" href="imhr/favicon/favicon-76.png">
	<link rel="apple-touch-icon" sizes="152x152" href="imhr/favicon/favicon-152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="imhr/favicon/favicon-180.png">
	<!--dataTables-->
	<link rel="stylesheet" type="text/css" href="css/user.css">
	<!--prism--><link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="css/datatables/dataTables.bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="css/datatables/responsive.bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="css/datatables/buttons.bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="css/prism/prism.css">
	<link rel="stylesheet" type="text/css" href="css/prism/prism-line-numbers.css">
	<script type="text/javascript" language="javascript" src="js/prism/prism.js"></script>
	<script type="text/javascript" language="javascript" src="js/prism/prism-r.js"></script>
	<script type="text/javascript" language="javascript" src="js/prism/prism-python.js"></script>
	<script type="text/javascript" language="javascript" src="js/prism/prism-line-numbers.js"></script>
	<script type="text/javascript" language="javascript" src="js/prism/prism-normalize-whitespace.js"></script><!--all-->
	<script type="text/javascript" language="javascript" src="js/jquery/jquery-3.2.1.min.js"></script>
	<script type="text/javascript" language="javascript" src="js/lodash.min.js"></script>
	<script type="text/javascript" language="javascript" src="js/bootstrap/bootstrap.bundle.js"></script>
	<!--user-->
	<!--dataTables-->
	<script type="text/javascript" language="javascript" src="js/datatables/jquery.dataTables.min.js"></script>
	<script type="text/javascript" language="javascript" src="js/datatables/dataTables.rowsGroup.js"></script>
	<script type="text/javascript" language="javascript" src="js/datatables/dataTables.rowGroup.min.js"></script>
	<script type="text/javascript" language="javascript" src="js/datatables/dataTables.bootstrap.min.js"></script>
	<script type="text/javascript" language="javascript" src="js/datatables/dataTables.buttons.min.js"></script>
	<script type="text/javascript" language="javascript" src="js/datatables/buttons.bootstrap.min.js"></script>
	<script type="text/javascript" language="javascript" src="js/datatables/dataTables.responsive.min.js"></script>
	<script type="text/javascript" language="javascript" src="js/datatables/responsive.bootstrap.min.js"></script>
	<script type="text/javascript" language="javascript" src="js/datatables/buttons.html5.min.js"></script>
	<script type="text/javascript" language="javascript" src="js/datatables/jszip.min.js"></script>
	<!--user-->
	<script type="text/javascript" language="javascript" src="js/user.js"></script>
	<script>source="anova"</script>
	<!--tinymce-->
	<script type="text/javascript" language="javascript" src="js/tinymce/tinymce.js"></script>
	<script type="text/javascript" language="javascript" src="js/tinymce/tinymce-codesample.js"></script>
	<script type="text/javascript" language="javascript" src="js/tinymce/tinymce-silver.js"></script>
	<script type="text/javascript" language="javascript" src="js/tinymce/tinymce-mobile.js"></script>
	<script type="text/javascript" language="javascript" src="js/tinymce/tinymce-save.js"></script>
	<script type="text/javascript" language="javascript" src="js/tinymce/tinymce-autoresize.js"></script>
</head>
<body id="body" class="overflow: scroll">
<div class="container-large anova" style="">
<div class="container" style="">
<div class="dashboard-main">
<div class="table-container anova">
<div class="title"><b>Table 1.</b> Repeated Measures ANOVA for [Dp Bias] (N = 138).</div>
<div class="date"> Last Updated: 2019-04-05 15:19:59
<span class="link" id="code">code</span>
<span class="link" id="csv">csv</span>
</div>
<div class="dataTables_wrapper form-inline dt-bootstrap">
<div class="code-container" style="display: none">
<pre id="editor" class="line-numbers">
<code class="lang-r">
#!/usr/bin/env Rscript3.5.1
rm(list=ls());
#----library
# core
library(tidyverse);
library(broom);
# analysis
library(lme4); library(lmerTest);
# plot
library(ggplot2);
# estimated marginal means
library(emmeans); library(multcomp);
    
#----repeated measures anova model
anova_ <- function(){
    #----load data
    path <- "/Users/mdl-admin/Desktop/mdl-R33-analysis/output/analysis/html/model/anova/dp_bias/csv/"
    df <- read.csv(file=file.path(path, 'dp_bias.csv'), header=TRUE)
    
    #----set type
    df$trialType <- factor(df$trialType)
    df$cesd_group <- factor(df$cesd_group)
    df$participant <- factor(df$participant)
    
    #----run model
    lmer_ <- lmerTest::lmer(dp_bias ~ cesd_group + trialType + (1|participant), data=df)
    aov_ <- stats::anova(lmer_)
    
    #----Estimated Marginal Means (Least-Squares Means) of all factor levels
    pair_ <- emmeans::emmeans(lmer_, c('cesd_group','trialType'),
                              type = "response", adjust = "tukey")
    # Comparison of Differences Between Levels of Factor
    lsmeans_ <- summary(emmeans::as.glht(pairs(pair_)), test=adjusted("free")) %>% 
       broom::tidy()
    
    #----getting x,y coordinates for qqplot
    # create plot
    gg <- ggplot(lmer_) + 
      ggplot2::stat_qq(aes(sample = .resid, colour = factor(trialType))) + 
      ggplot2::geom_abline(linetype = "dotted")
    
    # convert to tibble
    gg <- ggplot_build(gg)[["data"]][[1]] %>% 
      dplyr::select(sample, theoretical)
    
    #----creating residuals tibble from model
    # including raw data, residuals vs fitted)
    # .resid=residuals, .fitted=predicted values .estimate=estimate of fixed effect
    residuals <- broom::augment(lmer_) %>% 
       dplyr::select(participant, dp_bias, cesd_group, trialType, .resid, .fitted)
    
    #----merge residuals and qq tibble
    residuals <- as.data.frame(merge(x=residuals, y=gg, by.x=".resid", by.y="sample", all.x = TRUE))
    
    #----prepare data for export
    # convert model output to tibble
    output <- broom::tidy(aov_)
    # convert model summary to tibble
    summary <- broom::glance(lmer_)
    
    #----return model output, model, residuals, lsmeans, model summary
    return(list(output, lmer_, residuals, lsmeans_, summary))
}
</code>
</pre>
</div>

<table id="table" data-file="dp_bias" class="table anova table-striped table-bordered                 hover dt-responsive nowrap"\ cellspacing="0" width="100%">
  <thead>
    <tr style="text-align: right;">
      <th>index</th>
      <th>term</th>
      <th>SS</th>
      <th>MS</th>
      <th>N</th>
      <th>DF</th>
      <th>F</th>
      <th>Pr(&gt;|F|)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>cesd_group</td>
      <td>0.000188</td>
      <td>0.000188</td>
      <td>1</td>
      <td>136.000001</td>
      <td>0.207705</td>
      <td>0.6493</td>
    </tr>
    <tr>
      <th>2</th>
      <td>trialType</td>
      <td>0.002478</td>
      <td>0.002478</td>
      <td>1</td>
      <td>136.999998</td>
      <td>2.739510</td>
      <td>0.1002</td>
    </tr>
  </tbody>
</table></div>
<div class="footnote">
<table id="table1" class="table anova table-striped table-bordered hover dt-responsive nowrap"\ cellspacing="0" width="100%">
  <thead>
    <tr style="text-align: right;">
      <th>index</th>
      <th>sigma</th>
      <th>logLik</th>
      <th>AIC</th>
      <th>BIC</th>
      <th>REMLcrit</th>
      <th>df.residual</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>0.030078</td>
      <td>534.117921</td>
      <td>-1058.235842</td>
      <td>-1040.133837</td>
      <td>-1068.235842</td>
      <td>271</td>
    </tr>
  </tbody>
</table><p><b>Type III Analysis of Variance Table with Satterthwaite's method</b> ['<a href="https://www.rdocumentation.org/packages/stats/versions/3.5.3/topics/anova" class="anchor">anova</a>']. <div class='paragraph'><div>The assumptions for the model are:</div><ul class="number-list"><li>[nd] {qq}.</li><li>[hv] {rf}.</li><li>[io]</li></ul></div><div class='paragraph'><div>The following post-hoc analysis were run:</div><ul class="number-list"><li><a href="#lsmean" class="anchor">Estimated Marginal Means</a>. ({boxplot})</li><li><a href="#qq" class="anchor">Q-Q Plot</a>.</li><li><a href="#rf" class="anchor">Residual vs Fitted Plot</a>.</li></ul></div><p> To reduce the influence of outliers, 31 (18.7%) participants were excluded due to 'Dotloc' or 'Stimulus Onset Errors' 3 SD above the median. The resulting data were analysed by fitting a repeated measures ANOVA in 'R', using the stats::anova function ([anova]). The dependent variable was [dp_bias]. The random effect was participant. The main effects were [cesd_group]. [trialType]. For our analysis of [dp_bias], our results revealed no main effect for [cesd_group] (F(1, 136) = 0.2077, p=0.6493). and [trialType] (F(1, 136) = 2.7395, p=0.1002).</div>
<div class="figure anova" id="lsmean"><div class="title"><b>Table 2.</b> Pairwise Comparisons of Estimated Marginal Means.</div>
<div class="date"> Last Updated: 2019-04-05 15:19:59</div><div class="dataTables_wrapper form-inline dt-bootstrap">
<!--script-->
<table id="table2" data-file="dp_bias" class="table anova table-striped table-bordered                                 hover dt-responsive nowrap"\ cellspacing="0" width="100%">
  <thead>
    <tr style="text-align: right;">
      <th>index</th>
      <th>Contrasts</th>
      <th>estimate</th>
      <th>SE</th>
      <th>t</th>
      <th>Pr(&gt;|t|)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>High,0 - Low,0</td>
      <td>-0.002120</td>
      <td>0.004651</td>
      <td>-0.455746</td>
      <td>0.6758</td>
    </tr>
    <tr>
      <th>2</th>
      <td>High,0 - High,1</td>
      <td>-0.005993</td>
      <td>0.003621</td>
      <td>-1.655146</td>
      <td>0.2378</td>
    </tr>
    <tr>
      <th>3</th>
      <td>High,0 - Low,1</td>
      <td>-0.008113</td>
      <td>0.005895</td>
      <td>-1.376338</td>
      <td>0.3235</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Low,0 - High,1</td>
      <td>-0.003873</td>
      <td>0.005895</td>
      <td>-0.657085</td>
      <td>0.6758</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Low,0 - Low,1</td>
      <td>-0.005993</td>
      <td>0.003621</td>
      <td>-1.655146</td>
      <td>0.2378</td>
    </tr>
    <tr>
      <th>6</th>
      <td>High,1 - Low,1</td>
      <td>-0.002120</td>
      <td>0.004651</td>
      <td>-0.455746</td>
      <td>0.6758</td>
    </tr>
  </tbody>
</table></div>

<div class="footnote">The 'Estimated Marginal Means' table provides a list pairwise comparisons for each level and factor in our model (<a class='anchor' href='https://cran.r-project.org/web/packages/emmeans/vignettes/comparisons.html'>emmeans package, Version 1.3.2</a>).</div></div>

<div class="figure anova" id="boxplot">
<div class="title"><b>Figure 1.</b> Pairwise Comparisons Plot.</div>
<div class="date"> Last Updated: 2019-04-05 15:19:59</div>
<a class="img" href="img\cesd_group_boxplot.png">
<img class="img" src="img\cesd_group_boxplot.png">
</a>
<div class="footnote">This boxplot provides a comparison of [cesd_group] and across both IAPS and POFA stimuli.             Both IAPS and POFA plots were nornalized to allow direct comparison.</div>
</div>
<div class="figure anova" id="qq">
<div class="title"><b>Figure 2.</b> Q-Q Plot (<a class='cat iaps'>[iaps]</a>, <a class='cat pofa'>[pofa]</a>).</div>
<div class="date"> Last Updated: 2019-04-05 15:19:59</div>
<a class="img" href="img\dp_bias_qq.png">
<img class="img" src="img\dp_bias_qq.png">
</a>
<div class="footnote">The Normal Q-Q plot compares the standardized residuals against the theoretical quantiles from a standard normal distribution. If the model residuals are normally distributed, then the points on this graph will be plotted in a generally straight line.</div>
</div>
<div class="figure anova" id="rf">
<div class="title"><b>Figure 3.</b> Residuals vs Fitted Plot (<a class='cat iaps'>[iaps]</a>, <a class='cat pofa'>[pofa]</a>).</div>
<div class="date"> Last Updated: 2019-04-05 15:19:59</div>
<a class="img" href="img\dp_bias_residuals.png">
<img class="img" src="img\dp_bias_residuals.png">
</a>
<div class="footnote">The Residuals vs Fitted plot is used to identify residual distribution. If residuals are following a visible trend on the graph, then the homogeneity assumption was violated.</div>
</div></div>
</div>
</div>
</div>
</body>

<footer>
<script>
$(document).ready(function(){
getLogitTable()
additionalTable()
popover()
getTinyMCE("anova")
})
</script>
</footer>
</html>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Region of Interest &#8212; imhr-api 2019-05-25 documentation</title>
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/semeon/css/user.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <script type="text/javascript" src="../../_static/copybutton.js"></script>
    <script type="text/javascript" src="../../_static/semeon/js/clipboard.js"></script>
    <script type="text/javascript" src="../../_static/semeon/js/user.js"></script>
    <script type="text/javascript" src="../../_static/semeon/js/copybutton.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../../_static/imhr.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Studies" href="../../studies/index.html" />
    <link rel="prev" title="Example setup for Eyelink 1000 Plus, using PsychoPy 3.0." href="../eyetracking/demo/eyetracking_demo.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="description" content="Results from our feasibility study for in-browser eyetracking.">
<meta name="author" content="Semeon Risom">
<meta name="email" content="semeon.risom@gmail.com">
<meta name="robots" content="index,follow">
<meta name="AdsBot-Google" content="noindex">

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
          imhr-api</a>
        <span class="navbar-text navbar-version pull-left"><b>2019-05-25</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../../genindex.html">Glossary</a></li>
                <li><a href="../../install.html">Install</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../install.html#dependencies">Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../install.html#installing">Installing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../install.html#testing">Testing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../features.html">Features</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../features.html#accesesing-raw-data">Accesesing Raw Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../features.html#preprocessing">Preprocessing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../features.html#data-analysis">Data Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../features.html#relational-plots">Relational plots</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Guides</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../R33/process_demographics.html">Process demographics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../R33/process_demographics.html#get-metadata">get metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="../R33/process_demographics.html#prepare-data">prepare data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../R33/process_demographics.html#demographic-statistics">demographic statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../R33/process_demographics.html#list-of-variables">list of variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../R33/process_demographics.html#descriptive-device">descriptive device</a></li>
<li class="toctree-l3"><a class="reference internal" href="../R33/process_demographics.html#descriptive-task">descriptive task</a></li>
<li class="toctree-l3"><a class="reference internal" href="../R33/process_demographics.html#summary-data">summary data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../R33/download_data.html">Download data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../R33/download_data.html#imports">imports</a></li>
<li class="toctree-l3"><a class="reference internal" href="../R33/download_data.html#raw-data-(UTWeb)">raw data (UTWeb)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../R33/download_data.html#REDCap">REDCap</a></li>
<li class="toctree-l3"><a class="reference internal" href="../R33/download_data.html#box">box</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../R33/run_models.html">Run models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../R33/create_plots.html">Create plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="../R33/process_data.html">Process data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../R33/process_data.html#imports">imports</a></li>
<li class="toctree-l3"><a class="reference internal" href="../R33/process_data.html#start">start</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../eyetracking/demo/eyetracking_demo.html">Eyetracking demo</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../eyetracking/demo/eyetracking_demo.html#Import-packages.">Import packages.</a></li>
<li class="toctree-l3"><a class="reference internal" href="../eyetracking/demo/eyetracking_demo.html#Set-task-parameters,-either-directly-from-PsychoPy-or-created-manually.">Set task parameters, either directly from PsychoPy or created manually.</a></li>
<li class="toctree-l3"><a class="reference internal" href="../eyetracking/demo/eyetracking_demo.html#Initialize-the-imhr.eyetracking-package.">Initialize the imhr.eyetracking package.</a></li>
<li class="toctree-l3"><a class="reference internal" href="../eyetracking/demo/eyetracking_demo.html#Connect-to-the-Eyelink-Host.">Connect to the Eyelink Host.</a></li>
<li class="toctree-l3"><a class="reference internal" href="../eyetracking/demo/eyetracking_demo.html#Set-the-dominamt-eye.">Set the dominamt eye.</a></li>
<li class="toctree-l3"><a class="reference internal" href="../eyetracking/demo/eyetracking_demo.html#Start-calibration.">Start calibration.</a></li>
<li class="toctree-l3"><a class="reference internal" href="../eyetracking/demo/eyetracking_demo.html#(Optional)-Print-message-to-console/terminal.">(Optional) Print message to console/terminal.</a></li>
<li class="toctree-l3"><a class="reference internal" href="../eyetracking/demo/eyetracking_demo.html#(Optional)-Drift-correction.">(Optional) Drift correction.</a></li>
<li class="toctree-l3"><a class="reference internal" href="../eyetracking/demo/eyetracking_demo.html#Start-recording.">Start recording.</a></li>
<li class="toctree-l3"><a class="reference internal" href="../eyetracking/demo/eyetracking_demo.html#Example-use-of-eyetracking.sample().">Example use of eyetracking.sample().</a></li>
<li class="toctree-l3"><a class="reference internal" href="../eyetracking/demo/eyetracking_demo.html#Stop-recording.">Stop recording.</a></li>
<li class="toctree-l3"><a class="reference internal" href="../eyetracking/demo/eyetracking_demo.html#Close-PsychoPy.">Close PsychoPy.</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Region of Interest</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Introduction">Introduction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Example">Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#Parameters">Parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Required-Parameters">Required Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Optional-Parameters">Optional Parameters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#Creating-ROI">Creating ROI</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Manually-coded-images">Manually coded images</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Classified-using-Haar-Cascades">Classified using Haar Cascades</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#Output">Output</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Bounds">Bounds</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Data">Data</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../studies/index.html">Studies</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../studies/R33/index.html">R33</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../studies/Webgazer/index.html">Webgazer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../dashboard.html">Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/imhr.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api/imhr.Download.html">imhr.Download</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api/imhr.eyetracking.html">imhr.eyetracking</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api/imhr.plot.html">imhr.plot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/imhr.r33.html">imhr.r33</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api/imhr.tests.html">imhr.tests</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/imhr.tests.test_basic.html">imhr.tests.test_basic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/imhr.tests.test_roi.html">imhr.tests.test_roi</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api/imhr.settings.html">imhr.settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/imhr.Webgazer.html">imhr.Webgazer</a><ul class="simple">
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../features.html">Features</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Guides</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../R33/process_demographics.html">Process demographics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../R33/download_data.html">Download data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../R33/run_models.html">Run models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../R33/create_plots.html">Create plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="../R33/process_data.html">Process data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eyetracking/demo/eyetracking_demo.html">Eyetracking demo</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Region of Interest</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Introduction">Introduction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Example">Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#Parameters">Parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Required-Parameters">Required Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Optional-Parameters">Optional Parameters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#Creating-ROI">Creating ROI</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Manually-coded-images">Manually coded images</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Classified-using-Haar-Cascades">Classified using Haar Cascades</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#Output">Output</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Bounds">Bounds</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Data">Data</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../studies/index.html">Studies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dashboard.html">Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/imhr.html">API Reference</a></li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
	<div class="imhr-bars">
		<div class="bar"></div>
		<div class="bar"></div>
		<div class="bar"></div>
		<div class="bar"></div>
	</div>
	<div class="row">
<div class="toc col-md-3" style="width: 25%;">
	<div id="sidebar" class="bs-sidenav" role="complementary"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../features.html">Features</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Guides</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../R33/process_demographics.html">Process demographics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../R33/download_data.html">Download data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../R33/run_models.html">Run models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../R33/create_plots.html">Create plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="../R33/process_data.html">Process data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eyetracking/demo/eyetracking_demo.html">Eyetracking demo</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Region of Interest</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Introduction">Introduction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Example">Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#Parameters">Parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Required-Parameters">Required Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Optional-Parameters">Optional Parameters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#Creating-ROI">Creating ROI</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Manually-coded-images">Manually coded images</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Classified-using-Haar-Cascades">Classified using Haar Cascades</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#Output">Output</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Bounds">Bounds</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Data">Data</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../studies/index.html">Studies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dashboard.html">Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/imhr.html">API Reference</a></li>
</ul>

<div id="sourcelink">
  <a href="../../_sources/examples/roi/index.ipynb.txt"
     rel="nofollow">Source</a>
</div>
	</div>
</div>
		<div class="col-md-9 content">
			
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 7ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<div class="section" id="Region-of-Interest">
<span id="roi"></span><h1><a class="toc-backref" href="#id1">Region of Interest</a><a class="headerlink" href="#Region-of-Interest" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="../../api/imhr.eyetracking.html#imhr.eyetracking.ROI" title="imhr.eyetracking.ROI"><code class="xref py py-func docutils literal notranslate"><span class="pre">imhr.eyetracking.ROI()</span></code></a> can identify Region/Area of Interest using machine learning and image coding techniques.</p>
<div class="contents table-of-contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#Region-of-Interest" id="id1">Region of Interest</a><ul>
<li><a class="reference internal" href="#Introduction" id="id2">Introduction</a><ul>
<li><a class="reference internal" href="#Example" id="id3">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#Parameters" id="id4">Parameters</a><ul>
<li><a class="reference internal" href="#Required-Parameters" id="id5">Required Parameters</a></li>
<li><a class="reference internal" href="#Optional-Parameters" id="id6">Optional Parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#Creating-ROI" id="id7">Creating ROI</a><ul>
<li><a class="reference internal" href="#Manually-coded-images" id="id8">Manually coded images</a></li>
<li><a class="reference internal" href="#Classified-using-Haar-Cascades" id="id9">Classified using Haar Cascades</a></li>
</ul>
</li>
<li><a class="reference internal" href="#Output" id="id10">Output</a><ul>
<li><a class="reference internal" href="#Bounds" id="id11">Bounds</a></li>
<li><a class="reference internal" href="#Data" id="id12">Data</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="Introduction">
<h2><a class="toc-backref" href="#id2">Introduction</a><a class="headerlink" href="#Introduction" title="Permalink to this headline">¶</a></h2>
<div class="section" id="Example">
<h3><a class="toc-backref" href="#id3">Example</a><a class="headerlink" href="#Example" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># import</span>
<span class="kn">import</span> <span class="nn">imhr</span>
<span class="c1"># parameters</span>
<span class="n">path</span> <span class="o">=</span> <span class="n">imhr</span><span class="o">.</span><span class="n">__path__</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">image_path</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">/dist/roi/raw/2/&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="n">output_path</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">/dist/roi/output/&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="n">metadata_source</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">/dist/roi/raw/2/metadata.xlsx&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="n">position</span> <span class="o">=</span> <span class="s1">&#39;topcenter&#39;</span>
<span class="c1"># initiate</span>
<span class="n">roi</span> <span class="o">=</span> <span class="n">imhr</span><span class="o">.</span><span class="n">eyetracking</span><span class="o">.</span><span class="n">ROI</span><span class="p">(</span><span class="n">isMultiprocessing</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">isDebug</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">isDemo</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
    <span class="n">detection</span><span class="o">=</span><span class="s1">&#39;manual&#39;</span><span class="p">,</span> <span class="n">roi_format</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;straight&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">image_path</span><span class="o">=</span><span class="n">image_path</span><span class="p">,</span> <span class="n">output_path</span><span class="o">=</span><span class="n">output_path</span><span class="p">,</span> <span class="n">metadata_source</span><span class="o">=</span><span class="n">metadata_source</span><span class="p">,</span>
    <span class="n">screensize</span><span class="o">=</span><span class="p">[</span><span class="mi">1920</span><span class="p">,</span><span class="mi">1080</span><span class="p">],</span> <span class="n">recenter</span><span class="o">=</span><span class="p">[(</span><span class="mi">1920</span><span class="o">*.</span><span class="mi">50</span><span class="p">),(</span><span class="mi">1080</span><span class="o">*.</span><span class="mi">50</span><span class="p">)],</span>
    <span class="n">newcolumn</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;position&#39;</span><span class="p">:</span> <span class="n">position</span><span class="p">},</span> <span class="n">uuid</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;image&#39;</span><span class="p">,</span><span class="s1">&#39;roi&#39;</span><span class="p">,</span><span class="s1">&#39;position&#39;</span><span class="p">],</span>
    <span class="n">append_output_name</span><span class="o">=</span><span class="n">position</span><span class="p">,</span> <span class="n">image_backend</span><span class="o">=</span><span class="s1">&#39;PIL&#39;</span><span class="p">,</span>
    <span class="n">axis_fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">tick_fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="c1"># run</span>
<span class="n">df</span><span class="p">,</span> <span class="n">error</span> <span class="o">=</span> <span class="n">roi</span><span class="o">.</span><span class="n">process</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-magenta-bg">not multiprocessing</span>
<span class="ansi-magenta-bg">starting()</span>
<span class="ansi-magenta-bg">finished()</span>
</pre></div></div>
</div>
</div>
</div>
<div class="section" id="Parameters">
<h2><a class="toc-backref" href="#id4">Parameters</a><a class="headerlink" href="#Parameters" title="Permalink to this headline">¶</a></h2>
<div class="section" id="Required-Parameters">
<h3><a class="toc-backref" href="#id5">Required Parameters</a><a class="headerlink" href="#Required-Parameters" title="Permalink to this headline">¶</a></h3>
<p>Here are all of the required parameters that are part of this module:</p>
<table border="1" class="colwidths-given kwargs docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>isMultiprocessing</strong> : <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></td>
<td>Should the rois be generated using multiprocessing. Default is <strong>False</strong>.</td>
</tr>
<tr class="row-odd"><td><strong>detection</strong> : <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> {‘manual’, ‘haarcascade’}</td>
<td>How should the regions of interest be detected. Either manually (<strong>manual</strong>), through the use of highlighting layers in photo-editing
software, or automatically through feature detection using <strong>haarcascade</strong> classifers from opencv. Default <strong>manual</strong>.</td>
</tr>
<tr class="row-even"><td><strong>image_path</strong> : <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></td>
<td>Image directory path.</td>
</tr>
<tr class="row-odd"><td><strong>output_path</strong> : <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></td>
<td>Path to save data.</td>
</tr>
<tr class="row-even"><td><strong>roi_format</strong> : <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> {‘raw’, ‘dataviewer’, ‘both’}</td>
<td>Format to export ROIs. Either to ‘csv’ (<strong>raw</strong>) or to Eyelink DataViewer ‘ias’ (<strong>dataviewer</strong>) or both (<strong>both</strong>).
Default is <strong>both</strong>. Note: If <strong>roi_format</strong> = <strong>dataviewer</strong>, <strong>shape</strong> must be either be <strong>circle</strong>, <strong>rotated</strong>, or <strong>straight</strong>.</td>
</tr>
<tr class="row-odd"><td><strong>metadata_source</strong> : <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> {‘path’, ‘embedded’}</td>
<td><p class="first">Metadata source. If metadata is being read from a spreadsheet, <code class="code docutils literal notranslate"><span class="pre">metadata_source</span></code> should be equal to path the to
the metadata file, else if metadata is embed within the image as a layer name, <strong>metadata_source</strong> = <strong>embedded</strong>.
Default is <strong>embedded</strong>.
Although Photoshop PSD don’t directly provide support for metadata. However if each region of interest is stored
as a seperate layer within a PSD, the layer name can be used to store metadata. To do this, the layer name has
to be written as delimited text. Our code can read this data and extract relevant metadata. The delimiter can
be either <strong>;</strong> <strong>,</strong> <strong>|</strong> <strong>\t</strong> or <strong>\s (Delimiter type must be identified when running this code using the
**delimiter</strong> parameter. The default is <strong>;</strong>.). Here’s an example using <strong>;</strong> as a delimiter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">imagename</span> <span class="o">=</span> <span class="s2">&quot;BM001&quot;</span><span class="p">;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">roiname</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">feature</span> <span class="o">=</span> <span class="s2">&quot;lefteye&quot;</span>
</pre></div>
</div>
<p class="last">Note: whitespace should be avoided from from each layer name. Whitespaces may cause errors during parsing.</p>
</td>
</tr>
<tr class="row-even"><td><strong>shape</strong> : <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> {‘polygon’, ‘hull’, ‘circle’, ‘rotated’, ‘straight’}</td>
<td>Shape of machine readable boundaries for region of interest. Default is <strong>straight</strong>. <strong>polygon</strong> creates a Contour
Approximation and will most closely match the orginal shape of the roi. <strong>hull</strong> creates a Convex Hull, which
is similar to but not as complex as a Contour Approximation and will include bulges for areas that are convex.
<strong>circle</strong> creates a mininum enclosing circle. Finally, both <strong>rotated</strong> and <strong>straight</strong> create a Bounding Rectangle,
with the only difference being compensation for the mininum enclosing area for the box when using <strong>rotated</strong>.</td>
</tr>
<tr class="row-odd"><td><strong>roicolumn</strong> : <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></td>
<td>The name of the label for the region of interest in your metadata. For example you may want to extract the column
‘feature’ from your metadata and use this as the label. Default is <strong>roi</strong>.</td>
</tr>
<tr class="row-even"><td><strong>uuid</strong> : <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></td>
<td>Create a unique id by combining a list of existing variables in the metadata. This is recommended
if <strong>roi_format</strong> == <strong>dataviewer</strong> because of the limited variables allowed for ias files. Default <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="Optional-Parameters">
<h3><a class="toc-backref" href="#id6">Optional Parameters</a><a class="headerlink" href="#Optional-Parameters" title="Permalink to this headline">¶</a></h3>
<p>Here are optional parameters, not required to run the code, but allow output tweaking:</p>
<p><strong>Additional core parameters</strong></p>
<p>These properties control additional core parameters for the API:</p>
<table border="1" class="colwidths-given kwargs docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>cores</strong> : <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></td>
<td>(if <strong>isMultiprocessing</strong> == <strong>True</strong>) Number of cores to use. Default is total available cores - 1.</td>
</tr>
<tr class="row-odd"><td><strong>isLibrary</strong> : <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></td>
<td>Check if required packages have been installed. Default is <strong>False</strong>.</td>
</tr>
<tr class="row-even"><td><strong>isDebug</strong> : <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></td>
<td>Allow flags to be visible. Default is <strong>False</strong>.</td>
</tr>
<tr class="row-odd"><td><strong>isDemo</strong> : <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></td>
<td>Tests code with in-house images and metadata. Default is <strong>False</strong>.</td>
</tr>
<tr class="row-even"><td><strong>save_data</strong> : <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></td>
<td>Save coordinates. Default is <strong>True</strong>.</td>
</tr>
<tr class="row-odd"><td><strong>newcolumn</strong> : <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> {<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>} or <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a></td>
<td>Add additional column to metadata. This must be in the form of a dict in this form {key: value}. Default is <strong>False</strong>.</td>
</tr>
<tr class="row-even"><td><strong>save_raw_image</strong> : <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></td>
<td>Save images. Default is True.</td>
</tr>
<tr class="row-odd"><td><strong>append_output_name</strong> : <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></td>
<td>Add appending name to all exported files (i.e. &lt;’top_center’&gt; IMG001_top_center.ias). Default is <strong>False</strong>.</td>
</tr>
<tr class="row-even"><td><strong>save_contour_image</strong> : <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></td>
<td>Save generated contours as images. Default is <strong>True</strong>.</td>
</tr>
<tr class="row-odd"><td><strong>scale</strong> : <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></td>
<td>If image is scaled during presentation, set scale. Default is <strong>1</strong>.</td>
</tr>
<tr class="row-even"><td><strong>offset</strong> : <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> [<a class="reference external" href="https://pillow.readthedocs.io/en/stable/reference/ImageMath.html#int" title="(in Pillow (PIL Fork) v6.0.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>]</td>
<td>Center point of image, relative to screensize. Default is <strong>[960, 540]</strong>.</td>
</tr>
</tbody>
</table>
<p><strong>Data processing parameters</strong></p>
<p>These properties control how data is processed which include the type of haarcascade used, delimiters for metadata:</p>
<table border="1" class="colwidths-given kwargs docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>delimiter</strong> : <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> {‘;’ , ‘,’ , ‘|’ , ‘tab’ , ‘space’}</td>
<td>(if <strong>source</strong> == <strong>psd</strong>) How is metadata delimited. Default is <strong>;</strong>.</td>
</tr>
<tr class="row-odd"><td><strong>classifier</strong> : <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> {‘eye_tree_eyeglasses’, ‘eye’, ‘frontalface_alt_tree’, ‘frontalface_alt’, ‘frontalface_alt2’,
‘frontalface_default’, ‘fullbody’, ‘lowerbody’, ‘profileface’, ‘smile’, ‘upperbody’}</td>
<td>(if <strong>detection</strong> == <strong>haarcascade</strong>) Type of trained classifier to use. Default is <strong>frontalface_default</strong>.</td>
</tr>
<tr class="row-even"><td><strong>classScaleFactor</strong> : <a class="reference external" href="https://pillow.readthedocs.io/en/stable/reference/ImageMath.html#float" title="(in Pillow (PIL Fork) v6.0.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></a></td>
<td>Parameter specifying how much the image size is reduced at each image scale.</td>
</tr>
<tr class="row-odd"><td><strong>classMinNeighbors</strong> : <a class="reference external" href="https://pillow.readthedocs.io/en/stable/reference/ImageMath.html#float" title="(in Pillow (PIL Fork) v6.0.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></a></td>
<td>Parameter specifying how many neighbors each candidate rectangle should have to retain it.</td>
</tr>
<tr class="row-even"><td><strong>classMinSize</strong> : <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a></td>
<td>Minimum possible object size. Objects smaller than that are ignored.</td>
</tr>
<tr class="row-odd"><td><strong>screensize</strong> : <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> [<a class="reference external" href="https://pillow.readthedocs.io/en/stable/reference/ImageMath.html#int" title="(in Pillow (PIL Fork) v6.0.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>]</td>
<td>Monitor size is being presented. Default is <strong>[1920, 1080]</strong>.</td>
</tr>
</tbody>
</table>
<p><strong>Image export parameters</strong></p>
<p>Here are properties specific to how images are exported after processing. The code can either use :class:<code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> or :class:<code class="docutils literal notranslate"><span class="pre">PIL</span></code> as a backend engine:</p>
<table border="1" class="colwidths-given kwargs docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>image_backend</strong> : <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> {‘matplotlib’, ‘PIL’}</td>
<td>Backend for exporting image. Either <a class="reference external" href="https://matplotlib.org/index.html">**matplotlib**</a> or <a class="reference external" href="https://pillow.readthedocs.io/en/stable/">**PIL**</a>. Default is <code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib</span></code>.</td>
</tr>
<tr class="row-odd"><td><strong>RcParams</strong> : <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></td>
<td>A dictionary object including validation validating functions are defined and associated with rc parameters in class:<cite>matplotlib.RcParams</cite>. Default is <strong>None</strong>.</td>
</tr>
<tr class="row-even"><td><strong>background_color</strong> : <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a></td>
<td>Set background color (RGB) for exporting images. Default is <strong>[110, 110, 110]</strong>.</td>
</tr>
<tr class="row-odd"><td><strong>dpi</strong> : <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></td>
<td>(if <strong>save_image</strong> == <strong>True</strong>) Quality of exported images, refers to ‘dots per inch’. Default is <strong>300</strong>.</td>
</tr>
<tr class="row-even"><td><strong>remove_axis</strong> : <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></td>
<td>Remove axis from <a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.html#module-matplotlib.pyplot" title="(in Matplotlib v3.1.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">matplotlib.pyplot</span></code></a>. Default is <strong>False</strong>.</td>
</tr>
<tr class="row-odd"><td><strong>tight_layout</strong> : <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></td>
<td>Remove whitespace from <a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.html#module-matplotlib.pyplot" title="(in Matplotlib v3.1.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">matplotlib.pyplot</span></code></a>. Default is <strong>False</strong>.</td>
</tr>
<tr class="row-even"><td><strong>set_size_inches</strong> : <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></td>
<td>Set size of <a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.html#module-matplotlib.pyplot" title="(in Matplotlib v3.1.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">matplotlib.pyplot</span></code></a> according to screensize of ROI. Default is <strong>False</strong>.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="Creating-ROI">
<h2><a class="toc-backref" href="#id7">Creating ROI</a><a class="headerlink" href="#Creating-ROI" title="Permalink to this headline">¶</a></h2>
<p>There are two methods of creating regions of interest to be processed by the api: using manually coded images or haar cascades.</p>
<div class="section" id="Manually-coded-images">
<h3><a class="toc-backref" href="#id8">Manually coded images</a><a class="headerlink" href="#Manually-coded-images" title="Permalink to this headline">¶</a></h3>
<p><strong>Using multilayered images (psd, tiff, DICOM)</strong></p>
<p>The recommended method of manually identifying each region of interest is by using a image media file that is able to store multiple layers of content. The two filetypes supported here are Adobe Photoshop Document (<strong>psd</strong>), Tag Image File Format (<strong>tiff</strong>/<strong>tif</strong>), and Digital Imaging and Communications in Medicine (<strong>DICOM</strong>) filetypes. Each ROI can be stored as a seperate layer, which can then processed for exporting.</p>
<div class="figure">
<img alt="../../_images/index-1.png" src="../../_images/index-1.png" />
</div>
<p>(<a class="reference external" href="../../examples/roi/index-1.png">png</a>, <a class="reference external" href="../../examples/roi/index-1.pdf">pdf</a>)</p>
<p><strong>Figure:</strong> Example <strong>psd</strong>, and <strong>DICOM</strong> opened in Adobe Photoshop.</p>
<p><strong>Using RGBA channels (png, jpg, bmp)</strong></p>
<p>Images can also be processed with each of the RGBA channels serving as a seperate layer. When images are imported using png, jpg, tiff, and bmp, this is the default method.</p>
<div class="figure">
<img alt="../../_images/index-2.png" src="../../_images/index-2.png" />
</div>
<p>(<a class="reference external" href="../../examples/roi/index-2.png">png</a>, <a class="reference external" href="../../examples/roi/index-2.pdf">pdf</a>)</p>
<p><strong>Figure:</strong> Example <strong>png</strong> opened in GNU Image Manipulation Program (GIMP).</p>
</div>
<div class="section" id="Classified-using-Haar-Cascades">
<h3><a class="toc-backref" href="#id9">Classified using Haar Cascades</a><a class="headerlink" href="#Classified-using-Haar-Cascades" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="Output">
<h2><a class="toc-backref" href="#id10">Output</a><a class="headerlink" href="#Output" title="Permalink to this headline">¶</a></h2>
<div class="doctree highlight-default notranslate"><div class="highlight"><pre><span></span>roi/
├── output/
│   ├── bounds.ias
│   ├── bounds.xlsx
│   ├── data/
│   │   ├── 2550_bounds.ias
│   │   └── 2550_bounds.xlsx
│   └── img/
│       ├── bounds/
│       │   ├── 2550.png
│       │   └── roi/
│       │       ├── 2550.1.png
│       │       └── 2550.2.png
│       ├── preprocessed/
│       │   └── 2550.png
│       └── raw/
│           └── 2550.png
└── raw/
    ├── 1/
    │   ├── AM_201.psd
    │   ├── AM_201.xcf
    │   └── metadata.xlsx
    └── 2/
        ├── 2550.psd
        ├── 2550.xcf
        └── metadata.xlsx
</pre></div>
</div>
<p>After running the API, the following data will be outputted:</p>
<ul class="simple">
<li>Rerendered images (<strong>img</strong>)<ul>
<li>Dataviewer Region of Interest (.ias): ‘./output/<em>.ias’, ’./output/data/</em>.ias’</li>
</ul>
</li>
<li>Data<ul>
<li>Dataviewer Region of Interest (.ias): ‘./output/<em>.ias’, ’./output/data/</em>.ias’</li>
<li>Excel Region of Interest (.xlsx): ‘./output/<em>.xlsx’, ’./output/data/</em>.xlsx’</li>
</ul>
</li>
</ul>
<p>In addition, for each image, their corresponding ROIs will be drawn to a png file (./img/bounds). Individual ROIs are also drawn (‘./img/bounds/roi’).</p>
<div class="section" id="Bounds">
<h3><a class="toc-backref" href="#id11">Bounds</a><a class="headerlink" href="#Bounds" title="Permalink to this headline">¶</a></h3>
<p>Insert text here.</p>
<div class="figure">
<img alt="../../_images/index-3.png" src="../../_images/index-3.png" />
</div>
<p>(<a class="reference external" href="../../examples/roi/index-3.png">png</a>, <a class="reference external" href="../../examples/roi/index-3.pdf">pdf</a>)</p>
<p>Original coded ROI with associated stimulus.</p>
<p><strong>Polygon</strong></p>
<div class="figure">
<img alt="../../_images/index-4.png" src="../../_images/index-4.png" />
</div>
<p>(<a class="reference external" href="../../examples/roi/index-4.png">png</a>, <a class="reference external" href="../../examples/roi/index-4.pdf">pdf</a>)</p>
<p class="caption"><strong>Figure:</strong> Contour Approximation (<strong>polygon</strong>) that will most closely match the orginal shape of the ROI.</p>
<p><strong>Hull</strong></p>
<div class="figure">
<img alt="../../_images/index-5.png" src="../../_images/index-5.png" />
</div>
<p>(<a class="reference external" href="../../examples/roi/index-5.png">png</a>, <a class="reference external" href="../../examples/roi/index-5.pdf">pdf</a>)</p>
<p class="caption"><strong>Figure:</strong> Generated Convex Hull (<strong>hull</strong>), which is similar to but not as complex as a Contour Approximation and will include bulges for areas that are convex.</p>
<p><strong>Circle</strong></p>
<div class="figure">
<img alt="../../_images/index-6.png" src="../../_images/index-6.png" />
</div>
<p>(<a class="reference external" href="../../examples/roi/index-6.png">png</a>, <a class="reference external" href="../../examples/roi/index-6.pdf">pdf</a>)</p>
<p class="caption"><strong>Figure:</strong> <strong>Circle</strong> creates a mininum enclosing circle, with the center equal to that of the ROI.</p>
<p><strong>Rectangle (rotated)</strong></p>
<div class="figure">
<img alt="../../_images/index-7.png" src="../../_images/index-7.png" />
</div>
<p>(<a class="reference external" href="../../examples/roi/index-7.png">png</a>, <a class="reference external" href="../../examples/roi/index-7.pdf">pdf</a>)</p>
<p class="caption"><strong>Figure:</strong> Bounding Rectangle (<strong>rotated</strong>), with the position matching that of the general shape of the ROI.</p>
<p><strong>Rectangle (straight)</strong></p>
<div class="figure">
<img alt="../../_images/index-8.png" src="../../_images/index-8.png" />
</div>
<p>(<a class="reference external" href="../../examples/roi/index-8.png">png</a>, <a class="reference external" href="../../examples/roi/index-8.pdf">pdf</a>)</p>
<p class="caption"><strong>Figure:</strong> Bounding Rectangle (<strong>straight</strong>) parallel to the shape of the background image.</p>
</div>
<div class="section" id="Data">
<h3><a class="toc-backref" href="#id12">Data</a><a class="headerlink" href="#Data" title="Permalink to this headline">¶</a></h3>
<p>Data can be exported in longform to be read directly by SR Research DataViewer (.ias) or any other dataprocessing tool (.xlsx). The xlsx form provides all metadata associated with each image, while the ias form matches the format required by Dataviewer for more info. See <a class="reference external" href="./bounds.ias">bounds.ias</a> and <a class="reference external" href="./bounds.xlsx">bounds.xlsx</a> to see an example of each type.</p>
<div class="admonition note alert alert-info">
    <p class="first admonition-title">Note</p>
    <p class="last"><a href="./../../manual/EyeLink Data Viewer User Manual 3.2.1.pdf">Section 5.10.1 of Eyelink DataViewer Users Manual (3.2.1)</a> has more information about the ias format and how DataViewer can interpret it.</p>
</div></div>
</div>
</div>


		</div>
		  
	</div>
</div>
<footer class="footer">
	<div class="container">
		<div>
			<div>&copy; Copyright 2019, </div>
			<div><a href="https://semeon.io/">Semeon Risom</a>.</div>
			<div>Updated 2019-05-25T15:23:34-05:00.</div>
		</div>
	</div>
</footer>
  </body>
</html>
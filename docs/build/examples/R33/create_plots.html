<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Plots &#8212; mdl-R33 2019-05-01 documentation</title>
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/semeon/css/user.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <script type="text/javascript" src="../../_static/copybutton.js"></script>
    <script type="text/javascript" src="../../_static/semeon/js/clipboard.js"></script>
    <script type="text/javascript" src="../../_static/semeon/js/user.js"></script>
    <script type="text/javascript" src="../../_static/semeon/js/copybutton.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../../_static/imhr.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Process" href="process_data.html" />
    <link rel="prev" title="Models" href="run_models.html" />
	<meta charset='utf-8'>
	<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
	<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="description" content="Results from our feasibility study for in-browser eyetracking.">
	<meta name="author" content="Semeon Risom">
	<meta name="email" content="semeon.risom@gmail.com">
	<meta name="robots" content="index,follow">
	<meta name="AdsBot-Google" content="noindex">

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
          mdl-R33</a>
        <span class="navbar-text navbar-version pull-left"><b>2019-05-01</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../../genindex.html">Glossary</a></li>
                <li><a href="../../install.html">Install</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Install</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../install.html#dependencies">Dependencies</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../features.html">Features</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../features.html#accesesing-raw-data">Accesesing Raw Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../features.html#preprocessing">Preprocessing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../features.html#data-analysis">Data Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../features.html#relational-plots">Relational plots</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="process_demographics.html">Process demographics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="process_demographics.html#get-metadata">get metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="process_demographics.html#prepare-data">prepare data</a></li>
<li class="toctree-l3"><a class="reference internal" href="process_demographics.html#demographic-statistics">demographic statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="process_demographics.html#list-of-variables">list of variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="process_demographics.html#descriptive-device">descriptive device</a></li>
<li class="toctree-l3"><a class="reference internal" href="process_demographics.html#descriptive-task">descriptive task</a></li>
<li class="toctree-l3"><a class="reference internal" href="process_demographics.html#summary-data">summary data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="download_data.html">Download data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="download_data.html#imports">imports</a></li>
<li class="toctree-l3"><a class="reference internal" href="download_data.html#raw-data-(UTWeb)">raw data (UTWeb)</a></li>
<li class="toctree-l3"><a class="reference internal" href="download_data.html#REDCap">REDCap</a></li>
<li class="toctree-l3"><a class="reference internal" href="download_data.html#box">box</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="run_models.html">Run models</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Create plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="process_data.html">Process data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="process_data.html#imports">imports</a></li>
<li class="toctree-l3"><a class="reference internal" href="process_data.html#start">start</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../eyetracking/demo/eyetracking_demo.html">Eyetracking demo</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../eyetracking/demo/eyetracking_demo.html#Import-packages.">Import packages.</a></li>
<li class="toctree-l3"><a class="reference internal" href="../eyetracking/demo/eyetracking_demo.html#Set-task-parameters,-either-directly-from-PsychoPy-or-created-manually.">Set task parameters, either directly from PsychoPy or created manually.</a></li>
<li class="toctree-l3"><a class="reference internal" href="../eyetracking/demo/eyetracking_demo.html#Initialize-the-mdl.eyetracking-package.">Initialize the mdl.eyetracking package.</a></li>
<li class="toctree-l3"><a class="reference internal" href="../eyetracking/demo/eyetracking_demo.html#Connect-to-the-Eyelink-Host.">Connect to the Eyelink Host.</a></li>
<li class="toctree-l3"><a class="reference internal" href="../eyetracking/demo/eyetracking_demo.html#Set-the-dominamt-eye.">Set the dominamt eye.</a></li>
<li class="toctree-l3"><a class="reference internal" href="../eyetracking/demo/eyetracking_demo.html#Start-calibration.">Start calibration.</a></li>
<li class="toctree-l3"><a class="reference internal" href="../eyetracking/demo/eyetracking_demo.html#(Optional)-Print-message-to-console/terminal.">(Optional) Print message to console/terminal.</a></li>
<li class="toctree-l3"><a class="reference internal" href="../eyetracking/demo/eyetracking_demo.html#(Optional)-Drift-correction.">(Optional) Drift correction.</a></li>
<li class="toctree-l3"><a class="reference internal" href="../eyetracking/demo/eyetracking_demo.html#Start-recording.">Start recording.</a></li>
<li class="toctree-l3"><a class="reference internal" href="../eyetracking/demo/eyetracking_demo.html#Example-use-of-eyetracking.sample().">Example use of eyetracking.sample().</a></li>
<li class="toctree-l3"><a class="reference internal" href="../eyetracking/demo/eyetracking_demo.html#Stop-recording.">Stop recording.</a></li>
<li class="toctree-l3"><a class="reference internal" href="../eyetracking/demo/eyetracking_demo.html#Close-PsychoPy.">Close PsychoPy.</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../roi/generate_roi.html">Region of Interest</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../roi/generate_roi.html#imports">imports</a></li>
<li class="toctree-l3"><a class="reference internal" href="../roi/generate_roi.html#Read-ROI-from-photoshop-PSD-files">Read ROI from photoshop PSD files</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../data/index.html">Current Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../live.html">Live</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/modules.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api/mdl.html">mdl</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/mdl.R33.html">mdl.R33</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/mdl.eyetracking.html">mdl.eyetracking</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/mdl.download.html">mdl.download</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/mdl.plot.html">mdl.plot</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/mdl.settings.html">mdl.settings</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../features.html">Features</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="process_demographics.html">Process demographics</a></li>
<li class="toctree-l2"><a class="reference internal" href="download_data.html">Download data</a></li>
<li class="toctree-l2"><a class="reference internal" href="run_models.html">Run models</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Create plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="process_data.html">Process data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eyetracking/demo/eyetracking_demo.html">Eyetracking demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../roi/generate_roi.html">Region of Interest</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../data/index.html">Current Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../live.html">Live</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/modules.html">API Reference</a></li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
	<div class="imhr-bars">
		<div class="bar"></div>
		<div class="bar"></div>
		<div class="bar"></div>
		<div class="bar"></div>
	</div>
	<div class="row">
		<div class="toc col-md-3">
			<div id="sidebar" class="bs-sidenav" role="complementary"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../features.html">Features</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="process_demographics.html">Process demographics</a></li>
<li class="toctree-l2"><a class="reference internal" href="download_data.html">Download data</a></li>
<li class="toctree-l2"><a class="reference internal" href="run_models.html">Run models</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Create plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="process_data.html">Process data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eyetracking/demo/eyetracking_demo.html">Eyetracking demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../roi/generate_roi.html">Region of Interest</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../data/index.html">Current Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../live.html">Live</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/modules.html">API Reference</a></li>
</ul>

<div id="sourcelink">
  <a href="../../_sources/examples/R33/create_plots.ipynb.txt"
     rel="nofollow">Source</a>
</div>
			</div>
		</div>
		<div class="col-md-9 content">
			
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 7ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<div class="section" id="Plots">
<h1>Plots<a class="headerlink" href="#Plots" title="Permalink to this headline">¶</a></h1>
<div class="line-block">
<div class="line">Created on Sat May 1 15:12:38 2019</div>
<div class="line">&#64;author: ‘Semeon Risom’</div>
<div class="line">&#64;email: ‘<a class="reference external" href="mailto:semeon&#46;risom&#37;&#52;&#48;gmail&#46;com">semeon<span>&#46;</span>risom<span>&#64;</span>gmail<span>&#46;</span>com</a>’</div>
<div class="line">&#64;url: ‘<a class="reference external" href="https://semeon.io/d/R33-analysis">https://semeon.io/d/R33-analysis</a>’</div>
<div class="line">&#64;purpose: Hub for creating plots.</div>
</div>
<p>##### imports</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#----local</span>
<span class="kn">from</span> <span class="nn">mdl</span> <span class="k">import</span> <span class="n">plot</span><span class="p">,</span> <span class="n">processing</span><span class="p">,</span> <span class="n">raw</span><span class="p">,</span> <span class="n">redcap</span>
<span class="kn">import</span> <span class="nn">mdl.model</span> <span class="k">as</span> <span class="nn">model</span>
<span class="kn">import</span> <span class="nn">mdl.settings</span> <span class="k">as</span> <span class="nn">settings</span>

<span class="c1">#----check if required libraries are available</span>
<span class="n">is_library</span> <span class="o">=</span> <span class="kc">False</span>
<span class="k">if</span> <span class="n">is_library</span><span class="p">:</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">library</span><span class="p">()</span>
<span class="k">pass</span>

<span class="c1">#----core</span>
<span class="kn">from</span> <span class="nn">pdb</span> <span class="k">import</span> <span class="n">set_trace</span> <span class="k">as</span> <span class="n">breakpoint</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">gc</span><span class="o">,</span> <span class="nn">glob</span><span class="o">,</span> <span class="nn">string</span><span class="o">,</span> <span class="nn">pytz</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="k">import</span> <span class="n">datetime</span>
</pre></div>
</div>
</div>
<p>##### initalize</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">console</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">console</span>
</pre></div>
</div>
</div>
<p>##### single subject bokeh coordinates (all trials)</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">##### single subject</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Resources:</span>
<span class="sd"> - https://media.springernature.com/original/springer-static/image/art%3A10.3758%2Fs13428-017-0913-7/MediaObjects/13428_2017_913_Figa_HTML.gif</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">console</span><span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;Step: bokeh_trial()&#39;</span> <span class="o">+</span> <span class="n">console</span><span class="p">[</span><span class="s1">&#39;ENDC&#39;</span><span class="p">])</span>
<span class="n">subject</span> <span class="o">=</span> <span class="mi">31</span>
<span class="n">session</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c1">#data</span>
<span class="n">path_sns</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s1">&#39;output&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;/process/data/eyetracking/</span><span class="si">%s</span><span class="s2">_</span><span class="si">%s</span><span class="s2">.csv&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">subject</span><span class="p">,</span><span class="n">session</span><span class="p">)</span>
<span class="n">df_single</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">path_sns</span><span class="p">,</span> <span class="n">float_precision</span><span class="o">=</span><span class="s1">&#39;high&#39;</span><span class="p">)</span>
<span class="c1">#rename</span>
<span class="n">df_single</span> <span class="o">=</span> <span class="n">df_single</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;LEmotion&quot;</span><span class="p">:</span><span class="s2">&quot;left_mood&quot;</span><span class="p">,</span><span class="s2">&quot;REmotion&quot;</span><span class="p">:</span><span class="s2">&quot;right_mood&quot;</span><span class="p">})</span>
<span class="c1">#exclude columns</span>
<span class="n">df_single</span> <span class="o">=</span> <span class="n">df_single</span><span class="p">[[</span><span class="s1">&#39;participant&#39;</span><span class="p">,</span><span class="s1">&#39;session&#39;</span><span class="p">,</span><span class="s1">&#39;subsession&#39;</span><span class="p">,</span><span class="s1">&#39;TrialNum&#39;</span><span class="p">,</span><span class="s1">&#39;timestamp&#39;</span><span class="p">,</span><span class="s1">&#39;trialType&#39;</span><span class="p">,</span><span class="s1">&#39;isCongruent&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;left_mood&#39;</span><span class="p">,</span><span class="s1">&#39;right_mood&#39;</span><span class="p">,</span><span class="s1">&#39;monitorSize.px&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="s1">&#39;marker&#39;</span><span class="p">,</span><span class="s1">&#39;sg_x&#39;</span><span class="p">,</span><span class="s1">&#39;sg_y&#39;</span><span class="p">,</span><span class="s1">&#39;sg_class&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;sg_fix_all&#39;</span><span class="p">,</span><span class="s1">&#39;sg_fix_index&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;sg_all_bounds&#39;</span><span class="p">,</span><span class="s1">&#39;sg_fix_bounds&#39;</span><span class="p">,</span><span class="s1">&#39;fix_num&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;left_bound&#39;</span><span class="p">,</span><span class="s1">&#39;right_bound&#39;</span><span class="p">,</span><span class="s1">&#39;dwell&#39;</span><span class="p">]]</span>

<span class="c1">#get rois</span>
<span class="n">stim_bounds</span><span class="p">,</span> <span class="n">roi_bounds</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">roi</span><span class="p">(</span><span class="n">filters</span><span class="o">=</span><span class="n">filters</span><span class="p">,</span> <span class="n">flt</span><span class="o">=</span><span class="n">filters</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">df</span><span class="o">=</span><span class="n">df_single</span><span class="p">,</span> <span class="n">manual</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1">#for each subject</span>
<span class="n">flt</span> <span class="o">=</span> <span class="s1">&#39;sg&#39;</span>
<span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">198</span><span class="p">):</span>
    <span class="c1">#subset data</span>
    <span class="n">df_single_</span> <span class="o">=</span> <span class="n">df_single</span><span class="p">[</span><span class="n">df_single</span><span class="p">[</span><span class="s1">&#39;TrialNum&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="n">idx</span><span class="p">])]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="c1">#draw plot</span>
    <span class="n">bokeh_plot</span> <span class="o">=</span> <span class="n">plot</span><span class="o">.</span><span class="n">bokeh_trial</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">df</span><span class="o">=</span><span class="n">df_single_</span><span class="p">,</span> <span class="n">stim_bounds</span><span class="o">=</span><span class="n">stim_bounds</span><span class="p">,</span> <span class="n">roi_bounds</span><span class="o">=</span><span class="n">roi_bounds</span><span class="p">,</span> <span class="n">flt</span><span class="o">=</span><span class="s1">&#39;sg&#39;</span><span class="p">)</span>
    <span class="c1">##get is_congruent</span>
    <span class="n">isCongruent</span> <span class="o">=</span> <span class="s2">&quot;congruent&quot;</span> <span class="k">if</span> <span class="n">df_single_</span><span class="p">[</span><span class="s1">&#39;isCongruent&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="kc">True</span> <span class="k">else</span> <span class="s2">&quot;incongruent&quot;</span>
    <span class="c1">#html</span>
    <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;(</span><span class="si">%s</span><span class="s2">) Participant </span><span class="si">%s</span><span class="s2">, session </span><span class="si">%s</span><span class="s2">, &quot;</span><span class="o">%</span><span class="p">(</span><span class="n">isCongruent</span><span class="p">,</span> <span class="n">subject</span><span class="p">,</span> <span class="n">session</span><span class="p">)</span>
    <span class="n">html_path</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s1">&#39;output&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;/analysis/html/trial/</span><span class="si">%s</span><span class="s2">_</span><span class="si">%s</span><span class="s2">_</span><span class="si">%s</span><span class="s2">.html&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">subject</span><span class="p">,</span><span class="n">session</span><span class="p">,</span><span class="n">idx</span><span class="p">)</span>
    <span class="n">html</span> <span class="o">=</span> <span class="n">plot</span><span class="o">.</span><span class="n">html</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">html_path</span><span class="p">,</span> <span class="n">plots</span><span class="o">=</span><span class="n">bokeh_plot</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s2">&quot;bokeh&quot;</span><span class="p">,</span>
                     <span class="n">display</span><span class="o">=</span><span class="s2">&quot;trial&quot;</span><span class="p">,</span> <span class="n">trial</span><span class="o">=</span><span class="n">idx</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">)</span>

<span class="k">del</span> <span class="n">title</span><span class="p">,</span> <span class="n">path_sns</span><span class="p">,</span> <span class="n">bokeh_plot</span><span class="p">,</span> <span class="n">df_single_</span><span class="p">,</span> <span class="n">html_path</span><span class="p">,</span> <span class="n">html</span><span class="p">,</span> <span class="n">subject</span><span class="p">,</span> <span class="n">session</span>

<span class="c1">#-------------------------------------------------single subject calibration</span>
<span class="nb">print</span><span class="p">(</span><span class="n">console</span><span class="p">[</span><span class="s1">&#39;green&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;bokeh_calibration()&#39;</span> <span class="o">+</span> <span class="n">console</span><span class="p">[</span><span class="s1">&#39;ENDC&#39;</span><span class="p">])</span>
<span class="n">subject</span> <span class="o">=</span> <span class="s1">&#39;shellie&#39;</span>
<span class="n">monitorSize</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1920</span><span class="p">,</span><span class="mi">1080</span><span class="p">]</span>
<span class="c1">#for calibration/validation event 0,1,2</span>
<span class="k">for</span> <span class="n">cv_session</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">):</span>
    <span class="c1">#data</span>
    <span class="n">path_sns</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s1">&#39;output&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;/analysis/calibration/</span><span class="si">%s</span><span class="s2">_1_</span><span class="si">%s</span><span class="s2">_calibration.csv&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">subject</span><span class="p">,</span> <span class="n">cv_session</span><span class="p">)</span>
    <span class="n">df_calibration</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">path_sns</span><span class="p">,</span> <span class="n">float_precision</span><span class="o">=</span><span class="s1">&#39;high&#39;</span><span class="p">)</span>

    <span class="c1">#calibration and validation</span>
    <span class="k">for</span> <span class="n">event</span><span class="p">,</span> <span class="n">full</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">([</span><span class="s1">&#39;isCalibrating&#39;</span><span class="p">,</span><span class="s1">&#39;isValidating&#39;</span><span class="p">],[</span><span class="s1">&#39;calibration&#39;</span><span class="p">,</span><span class="s1">&#39;validation&#39;</span><span class="p">]):</span>
        <span class="c1">#subset data</span>
        <span class="n">df_calibration_</span> <span class="o">=</span> <span class="n">df_calibration</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df_calibration</span><span class="p">[</span><span class="s1">&#39;event&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">event</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="c1">#draw plot</span>
        <span class="n">bokeh_plot</span> <span class="o">=</span> <span class="n">plot</span><span class="o">.</span><span class="n">bokeh_calibration</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">df</span><span class="o">=</span><span class="n">df_calibration_</span><span class="p">,</span> <span class="n">monitorSize</span><span class="o">=</span><span class="n">monitorSize</span><span class="p">)</span>
        <span class="c1">#html</span>
        <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Participant </span><span class="si">%s</span><span class="s2">, event </span><span class="si">%s</span><span class="s2">,&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">subject</span><span class="p">,</span> <span class="n">cv_session</span><span class="p">)</span>
        <span class="n">html_path</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s1">&#39;output&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;/analysis/html/cv/</span><span class="si">%s</span><span class="s2">_</span><span class="si">%s</span><span class="s2">_</span><span class="si">%s</span><span class="s2">.html&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">subject</span><span class="p">,</span> <span class="n">cv_session</span><span class="p">,</span> <span class="n">full</span><span class="p">)</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">plot</span><span class="o">.</span><span class="n">html</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">html_path</span><span class="p">,</span> <span class="n">plots</span><span class="o">=</span><span class="n">bokeh_plot</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s2">&quot;bokeh&quot;</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="s2">&quot;calibration&quot;</span><span class="p">,</span>
                             <span class="n">trial</span><span class="o">=</span><span class="n">full</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">cv_session</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">)</span>

</pre></div>
</div>
</div>
<p>##### density plot</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="n">console</span><span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;Step: density_plot()&#39;</span> <span class="o">+</span> <span class="n">console</span><span class="p">[</span><span class="s1">&#39;ENDC&#39;</span><span class="p">])</span>
<span class="c1">#Computes and draws density plot (kernel density estimate), which is a smoothed version of the histogram.</span>
<span class="c1">#This is used as a gage for normality</span>
<span class="n">df_density</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;participant&#39;</span><span class="p">,</span><span class="s1">&#39;trialType_&#39;</span><span class="p">,</span><span class="s1">&#39;m_rt&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;m_diff_dotloc&#39;</span><span class="p">,</span><span class="s1">&#39;m_diff_stim&#39;</span><span class="p">,</span><span class="s1">&#39;luminance&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;rrs_brooding&#39;</span><span class="p">,</span><span class="s1">&#39;cesd_score&#39;</span><span class="p">,</span><span class="s1">&#39;cesd_group_&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;dp_bias&#39;</span><span class="p">,</span><span class="s1">&#39;n_dp_valid&#39;</span><span class="p">,</span><span class="s1">&#39;gaze_bias&#39;</span><span class="p">,</span><span class="s1">&#39;n_gaze_valid&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;var_gaze_bias&#39;</span><span class="p">,</span><span class="s1">&#39;final_gaze_bias&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;nested&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;subject&#39;</span><span class="p">]</span>

<span class="c1">#----exclude</span>
<span class="n">df_density</span> <span class="o">=</span> <span class="n">df_density</span><span class="p">[</span><span class="o">~</span><span class="n">df_density</span><span class="p">[</span><span class="s1">&#39;participant&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">exclude</span><span class="p">)]</span>

<span class="c1">#file</span>
<span class="n">title</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">capwords</span><span class="p">(</span><span class="s1">&#39;kernel density estimate&#39;</span><span class="p">)</span>

<span class="c1">#create images</span>
<span class="n">density</span><span class="p">,</span> <span class="n">html_plots</span> <span class="o">=</span> <span class="n">plot</span><span class="o">.</span><span class="n">density_plot</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">df</span><span class="o">=</span><span class="n">df_density</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">)</span>
<span class="c1">#description of plots</span>
<span class="n">intro</span> <span class="o">=</span> <span class="s2">&quot;The kernel density estimate (kde) is used here as a quick check of normality for each of the variables of interest in the model. All data here has been nested by subject. </span><span class="si">%s</span><span class="s2">&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;def_exclude&#39;</span><span class="p">])</span>
<span class="c1">#create html</span>
<span class="n">html_path</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s1">&#39;output&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;/analysis/html/density.html&quot;</span>
<span class="n">html</span> <span class="o">=</span> <span class="n">plot</span><span class="o">.</span><span class="n">html</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">html_path</span><span class="p">,</span> <span class="n">plots</span><span class="o">=</span><span class="n">html_plots</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s2">&quot;plots&quot;</span><span class="p">,</span> <span class="n">intro</span><span class="o">=</span><span class="n">intro</span><span class="p">)</span>

</pre></div>
</div>
</div>
<p>##### correlation matrix</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="n">console</span><span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;Step: corr_matrix()&#39;</span> <span class="o">+</span> <span class="n">console</span><span class="p">[</span><span class="s1">&#39;ENDC&#39;</span><span class="p">])</span>
<span class="c1">#run correlation matrix</span>
<span class="n">df_corr</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;dp_bias&#39;</span><span class="p">,</span><span class="s1">&#39;n_dp_valid&#39;</span><span class="p">,</span><span class="s1">&#39;var_dp_bias&#39;</span><span class="p">,</span>
              <span class="s1">&#39;gaze_bias&#39;</span><span class="p">,</span><span class="s1">&#39;n_gaze_valid&#39;</span><span class="p">,</span><span class="s1">&#39;var_gaze_bias&#39;</span><span class="p">,</span><span class="s1">&#39;final_gaze_bias&#39;</span><span class="p">,</span>
              <span class="s1">&#39;rrs_brooding&#39;</span><span class="p">,</span><span class="s1">&#39;cesd_score&#39;</span><span class="p">,</span>
              <span class="s1">&#39;m_rt&#39;</span><span class="p">,</span><span class="s1">&#39;m_diff_dotloc&#39;</span><span class="p">,</span><span class="s1">&#39;m_diff_stim&#39;</span><span class="p">,</span>
              <span class="s1">&#39;luminance&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;nested&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;subject&#39;</span><span class="p">]</span>

<span class="c1">#file</span>
<span class="n">file</span> <span class="o">=</span> <span class="s1">&#39;corr_matrix&#39;</span>
<span class="n">method</span> <span class="o">=</span> <span class="s1">&#39;spearman&#39;</span>
<span class="n">title</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">capwords</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> correlation coefficient matrix (p-value).&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">method</span><span class="p">))</span>

<span class="n">path</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s1">&#39;output&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;/analysis/html/</span><span class="si">%s</span><span class="s2">.html&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
<span class="n">corr_matrix</span> <span class="o">=</span> <span class="n">plot</span><span class="o">.</span><span class="n">corr_matrix</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">df</span><span class="o">=</span><span class="n">df_corr</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">)</span>

</pre></div>
</div>
</div>
<p>##### boxplot</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="n">console</span><span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;Step: boxplot()&#39;</span> <span class="o">+</span> <span class="n">console</span><span class="p">[</span><span class="s1">&#39;ENDC&#39;</span><span class="p">])</span>
<span class="c1">#----create temp df</span>
<span class="n">df_box</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;dp_bias&#39;</span><span class="p">,</span><span class="s1">&#39;gaze_bias&#39;</span><span class="p">,</span><span class="s1">&#39;dp_gaze_cor&#39;</span><span class="p">,</span><span class="s1">&#39;final_gaze_bias&#39;</span><span class="p">,</span><span class="s1">&#39;participant&#39;</span><span class="p">,</span><span class="s1">&#39;trialType_&#39;</span><span class="p">,</span><span class="s1">&#39;cesd_group_&#39;</span><span class="p">,</span><span class="s1">&#39;nested&#39;</span><span class="p">]]</span>
<span class="n">html_plots</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1">#----exclude</span>
<span class="n">df_box</span> <span class="o">=</span> <span class="n">df_box</span><span class="p">[</span><span class="o">~</span><span class="n">df_box</span><span class="p">[</span><span class="s1">&#39;participant&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">exclude</span><span class="p">)]</span>
<span class="n">df_box_error</span> <span class="o">=</span> <span class="n">df_error</span><span class="p">[</span><span class="o">~</span><span class="n">df_error</span><span class="p">[</span><span class="s1">&#39;participant&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">exclude</span><span class="p">)]</span>

<span class="c1">#analysis--------------------------------------------------------------------------------------------------------</span>
<span class="n">html_file</span> <span class="o">=</span> <span class="s1">&#39;bias_boxplot&#39;</span>
<span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;dp_bias&#39;</span><span class="p">,</span><span class="s1">&#39;gaze_bias&#39;</span><span class="p">,</span><span class="s1">&#39;dp_gaze_cor&#39;</span><span class="p">,</span><span class="s1">&#39;final_gaze_bias&#39;</span><span class="p">]</span>
<span class="c1">#create plot</span>
<span class="n">intro</span> <span class="o">=</span> <span class="s1">&#39;This was done with two purposes.         1) To get general trends in the data.         2) To identify potential outliers in the data that might warrent investigation. Participants that         may need follow up are 999999, 111111, 314, 298, 256, 206, 218, 201, 193, 183, 140, 84, 60, 12.         Note: All data here has either been collapsed by subject or trialType.&#39;</span>
<span class="c1">##-------cesd</span>
<span class="n">df_box_</span> <span class="o">=</span> <span class="n">df_box</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;nested&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;subject&#39;</span><span class="p">]</span>
<span class="n">file</span> <span class="o">=</span> <span class="s1">&#39;boxplot_cesd&#39;</span>
<span class="n">x</span><span class="o">=</span><span class="s1">&#39;cesd_group_&#39;</span>
<span class="n">cat</span><span class="o">=</span><span class="s1">&#39;analysis&#39;</span>
<span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Boxplots, CES-D Cutoff (N = </span><span class="si">%s</span><span class="s1">, collapsed by subject)&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">subjects_used</span><span class="p">)</span>
<span class="n">footnote</span> <span class="o">=</span> <span class="s2">&quot;Data collapsed by subject:trialType. </span><span class="si">%s</span><span class="s2">&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;def_exclude&#39;</span><span class="p">])</span>
<span class="n">sns_path</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s1">&#39;output&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;/analysis/html/img/</span><span class="si">%s</span><span class="s2">.png&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
<span class="n">plot</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">df</span><span class="o">=</span><span class="n">df_box_</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">sns_path</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">cat</span><span class="o">=</span><span class="n">cat</span><span class="p">)</span>
<span class="n">html_plots</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;title&quot;</span><span class="p">:</span><span class="n">title</span><span class="p">,</span><span class="s2">&quot;file&quot;</span><span class="p">:</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.png&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">file</span><span class="p">),</span><span class="s2">&quot;footnote&quot;</span><span class="p">:</span><span class="n">footnote</span><span class="p">})</span>

<span class="c1">##-------trialType</span>
<span class="n">df_box_</span> <span class="o">=</span> <span class="n">df_box</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;nested&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;trialType&#39;</span><span class="p">]</span>
<span class="n">file</span> <span class="o">=</span> <span class="s1">&#39;boxplot_trial&#39;</span>
<span class="n">x</span><span class="o">=</span><span class="s1">&#39;trialType_&#39;</span>
<span class="n">cat</span><span class="o">=</span><span class="s1">&#39;analysis&#39;</span>
<span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Boxplots, Trial Type (N = </span><span class="si">%s</span><span class="s1">, collapsed by subject:trialType)&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">subjects_used</span><span class="p">)</span>
<span class="n">footnote</span> <span class="o">=</span> <span class="s2">&quot;Data collapsed by subject:trialType. </span><span class="si">%s</span><span class="s2">&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;def_exclude&#39;</span><span class="p">])</span>
<span class="n">sns_path</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s1">&#39;output&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;/analysis/html/img/</span><span class="si">%s</span><span class="s2">.png&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
<span class="n">plot</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">df</span><span class="o">=</span><span class="n">df_box_</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">sns_path</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">cat</span><span class="o">=</span><span class="n">cat</span><span class="p">)</span>
<span class="n">html_plots</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;title&quot;</span><span class="p">:</span><span class="n">title</span><span class="p">,</span><span class="s2">&quot;file&quot;</span><span class="p">:</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.png&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">file</span><span class="p">),</span><span class="s2">&quot;footnote&quot;</span><span class="p">:</span><span class="n">footnote</span><span class="p">})</span>

<span class="c1">#save folders</span>
<span class="n">html_path</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s1">&#39;output&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;/analysis/html/</span><span class="si">%s</span><span class="s2">.html&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">html_file</span><span class="p">)</span>
<span class="n">html</span> <span class="o">=</span> <span class="n">plot</span><span class="o">.</span><span class="n">html</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">html_path</span><span class="p">,</span> <span class="n">plots</span><span class="o">=</span><span class="n">html_plots</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s2">&quot;plots&quot;</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="s2">&quot;boxplot&quot;</span><span class="p">,</span> <span class="n">intro</span><span class="o">=</span><span class="n">intro</span><span class="p">)</span>
<span class="k">del</span> <span class="n">intro</span><span class="p">,</span> <span class="n">html_file</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">sns_path</span><span class="p">,</span> <span class="n">html_path</span><span class="p">,</span> <span class="n">html</span><span class="p">,</span> <span class="n">cat</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span>

<span class="c1">#timing----------------------------------------------------------------------------------------------------------</span>
<span class="n">html_plots</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">html_file</span> <span class="o">=</span> <span class="s1">&#39;rt_boxplot&#39;</span>
<span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;race&#39;</span><span class="p">,</span><span class="s1">&#39;gender&#39;</span><span class="p">,</span><span class="s1">&#39;is_normalvision&#39;</span><span class="p">,</span><span class="s1">&#39;os&#39;</span><span class="p">]</span>
<span class="n">cat</span> <span class="o">=</span> <span class="s1">&#39;demographics&#39;</span>

<span class="c1">##-------response time</span>
<span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;Key_Resp_rt&#39;</span>
<span class="n">intro</span> <span class="o">=</span> <span class="s1">&#39;This was done to compare differences in response time between os, webcamsize, gender, race and other factors.&#39;</span>
<span class="n">footnote</span> <span class="o">=</span> <span class="s2">&quot;Data collapsed by subject. Participants identified &#39;race&#39; as &#39;American Indian or Alaska Native&#39;, &#39;Two or more races&#39;, </span><span class="se">\</span>
<span class="s2">&#39;Black or African American&#39;, &#39;None of the above&#39; were excluded here for displaying purposes. </span><span class="si">%s</span><span class="s2">&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;def_exclude&#39;</span><span class="p">])</span>
<span class="c1">#create plot</span>
<span class="n">file</span> <span class="o">=</span> <span class="s1">&#39;rt_boxplot&#39;</span>
<span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Boxplots, </span><span class="si">%s</span><span class="s1"> (N = </span><span class="si">%s</span><span class="s1">)&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">subjects_used</span><span class="p">)</span>
<span class="n">sns_path</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s1">&#39;output&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;/analysis/html/img/</span><span class="si">%s</span><span class="s2">.png&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
<span class="n">plot</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">df</span><span class="o">=</span><span class="n">df_box_error</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">sns_path</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">cat</span><span class="o">=</span><span class="n">cat</span><span class="p">)</span>
<span class="n">html_plots</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;title&quot;</span><span class="p">:</span><span class="n">title</span><span class="p">,</span><span class="s2">&quot;file&quot;</span><span class="p">:</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.png&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">file</span><span class="p">),</span><span class="s2">&quot;footnote&quot;</span><span class="p">:</span><span class="n">footnote</span><span class="p">})</span>

<span class="c1">##-------diff_dotloc</span>
<span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;diff_dotloc&#39;</span>
<span class="n">intro</span> <span class="o">=</span> <span class="s1">&#39;This was done to compare differences between expected and true dotloc onset between os, webcamsize, gender, race and other factors.&#39;</span>
<span class="n">footnote</span> <span class="o">=</span> <span class="s2">&quot;Data collapsed by subject. Participants identified &#39;race&#39; as &#39;American Indian or Alaska Native&#39;,&#39;Two or more races&#39;, </span><span class="se">\</span>
<span class="s2">&#39;Black or African American&#39;, &#39;None of the above&#39; were excluded here for displaying purposes. </span><span class="si">%s</span><span class="s2">&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;def_exclude&#39;</span><span class="p">])</span>
<span class="c1">#create plot</span>
<span class="n">file</span> <span class="o">=</span> <span class="s1">&#39;dotloc_boxplot&#39;</span>
<span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Boxplots, </span><span class="si">%s</span><span class="s1"> (N = </span><span class="si">%s</span><span class="s1">)&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">subjects_used</span><span class="p">)</span>
<span class="n">sns_path</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s1">&#39;output&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;/analysis/html/img/</span><span class="si">%s</span><span class="s2">.png&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
<span class="n">plot</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">df</span><span class="o">=</span><span class="n">df_box_error</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">sns_path</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">cat</span><span class="o">=</span><span class="n">cat</span><span class="p">)</span>
<span class="n">html_plots</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;title&quot;</span><span class="p">:</span><span class="n">title</span><span class="p">,</span><span class="s2">&quot;file&quot;</span><span class="p">:</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.png&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">file</span><span class="p">),</span><span class="s2">&quot;footnote&quot;</span><span class="p">:</span><span class="n">footnote</span><span class="p">})</span>

<span class="c1">##-------diff_stim</span>
<span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;diff_stim&#39;</span>
<span class="n">intro</span> <span class="o">=</span> <span class="s1">&#39;This was done to compare differences between expected and true stim onset between os, webcamsize, gender, race and other factors.&#39;</span>
<span class="n">footnote</span> <span class="o">=</span> <span class="s2">&quot;Data collapsed by subject. Participants identified &#39;race&#39; as &#39;American Indian or Alaska Native&#39;,&#39;Two or more races&#39;, </span><span class="se">\</span>
<span class="s2">&#39;Black or African American&#39;, &#39;None of the above&#39; were excluded here for displaying purposes. </span><span class="si">%s</span><span class="s2">&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;def_exclude&#39;</span><span class="p">])</span>
<span class="c1">#create plot</span>
<span class="n">file</span> <span class="o">=</span> <span class="s1">&#39;stim_boxplot&#39;</span>
<span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Boxplots, </span><span class="si">%s</span><span class="s1"> (N = </span><span class="si">%s</span><span class="s1">)&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">subjects_used</span><span class="p">)</span>
<span class="n">sns_path</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s1">&#39;output&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;/analysis/html/img/</span><span class="si">%s</span><span class="s2">.png&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
<span class="n">plot</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">df</span><span class="o">=</span><span class="n">df_box_error</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">sns_path</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">cat</span><span class="o">=</span><span class="n">cat</span><span class="p">)</span>
<span class="n">html_plots</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;title&quot;</span><span class="p">:</span><span class="n">title</span><span class="p">,</span><span class="s2">&quot;file&quot;</span><span class="p">:</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.png&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">file</span><span class="p">),</span><span class="s2">&quot;footnote&quot;</span><span class="p">:</span><span class="n">footnote</span><span class="p">})</span>

<span class="c1">#-------save folders</span>
<span class="n">html_path</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s1">&#39;output&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;/analysis/html/</span><span class="si">%s</span><span class="s2">.html&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">html_file</span><span class="p">)</span>
<span class="n">html</span> <span class="o">=</span> <span class="n">plot</span><span class="o">.</span><span class="n">html</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">html_path</span><span class="p">,</span> <span class="n">plots</span><span class="o">=</span><span class="n">html_plots</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s2">&quot;plots&quot;</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="s2">&quot;boxplot&quot;</span><span class="p">,</span> <span class="n">intro</span><span class="o">=</span><span class="n">intro</span><span class="p">)</span>
<span class="k">del</span> <span class="n">intro</span><span class="p">,</span> <span class="n">html_file</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">html_path</span><span class="p">,</span> <span class="n">html</span><span class="p">,</span> <span class="n">cat</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">footnote</span>
</pre></div>
</div>
</div>
</div>


		</div>
		  
	</div>
</div>
<footer class="footer">
	<div class="container">
		<div>
					<div>&copy; Copyright 2019, </div>
			<div><a href="https://semeon.io/">Semeon Risom</a>.</div>
				<div>Updated 2019-05-01T14:14:10-05:00.</div>
		</div>
	</div>
</footer>
  </body>
</html>
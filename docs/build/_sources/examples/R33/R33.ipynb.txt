{"cells":[{"cell_type":"markdown","source":[" .. R33_:\n"," .. title:: R33\n"," # Analysis of R33 Data"],"metadata":{}},{"source":["# Created on Sat May 1 15:12:38 2019  \n","# @author: Semeon Risom  \n","# @email: semeon.risom@gmail.com  \n","# @url: https://semeon.io/d/R33-analysis  \n","# @purpose: Hub for running processing and analysis."],"cell_type":"code","outputs":[],"metadata":{},"execution_count":0},{"cell_type":"markdown","source":[" ## local import\n","# parameters"],"metadata":{}},{"cell_type":"markdown","source":[" ## set current date"],"metadata":{}},{"cell_type":"markdown","source":[" ## load passwords from yaml"],"metadata":{}},{"source":["import yaml\n","with open('/Users/mdl-admin/Desktop/mdl/docs/source/examples/analysis/private.yaml', 'r') as _file:\n","\tp = yaml.safe_load(_file)"],"cell_type":"code","outputs":[],"metadata":{},"execution_count":0},{"cell_type":"markdown","source":[" ##  Download data from UTWeb SFTP server\n"," Here you can download data from a remote server using SFTP. In this case, we are accessing the University of Texas UTWeb server to get online eyetracking data."],"metadata":{}},{"source":["# login parameters\n","host = p['r33']['utweb']['hostname']\n","user = p['r33']['utweb']['username']\n","pwd = p['r33']['utweb']['password']\n","# download partial data backups\n","filetype = '.csv' # get only csvs\n","s = p['r33']['utweb']['path'] + 'part/' # path of backup data on server\n","d = '/Users/mdl-admin/Desktop/r33/data/raw/part/'\n","log, start, end, now = data.Download.SFTP(source=s, destination=d, hostname=host, username=user, password=pwd, filetype=filetype)\n","# download full data\n","filetype = '.csv' # get only csvs\n","s = p['r33']['utweb']['path']  # path of data on server\n","d = '/Users/mdl-admin/Desktop/r33/data/raw/full/'\n","log, start, end, now = data.Download.SFTP(source=s, destination=d, hostname=host, username=user, password=pwd, filetype=filetype)\n",""],"cell_type":"code","outputs":[],"metadata":{},"execution_count":0},{"cell_type":"markdown","source":[" ## Download data from REDCap\n"," Data from Research Electronic Data Capture (REDCap) can be downloaded. Here we are accessing participant"],"metadata":{}},{"source":["# login, path parameters\n","d = '/Users/mdl-admin/Desktop/r33/data/redcap/'\n","token = p['r33']['redcap']['token']\n","url = p['r33']['redcap']['url']\n","content = 'report'\n","report_id = '6766'\n","# export\n","log, start, end, now = data.Download.REDCap(path=d, token=token, url=url, content=content, report_id=report_id)"],"cell_type":"code","outputs":[],"metadata":{},"execution_count":0},{"cell_type":"markdown","source":[" ##### Preprocessing\n"," Clean up variable names, correct screensize for processing."],"metadata":{}},{"source":["source = '/Users/mdl-admin/Desktop/r33/data/raw/full/'\n","errors = Processing.preprocessing(source=source, isMultiprocessing=True, cores=6)"],"cell_type":"code","outputs":[],"metadata":{},"execution_count":0},{"cell_type":"markdown","source":[" ##### Summary data"],"metadata":{}},{"source":["# parameters\n","source = \"/Users/mdl-admin/Desktop/r33/data/preprocessed/\"\n","destination = \"/Users/mdl-admin/Desktop/r33/data/processed/summary.xlsx\"\n","metadata = \"/Users/mdl-admin/Desktop/r33/data/metadata.csv\"\n","# Processing\n","df, errors, _ = Processing.summary(source=source, destination=destination, metadata=metadata, isHTML=True)"],"cell_type":"code","outputs":[],"metadata":{},"execution_count":0},{"cell_type":"markdown","source":[" ##### Definitions"],"metadata":{}},{"source":["source = \"/Users/mdl-admin/Desktop/r33/data/preprocessed/53_0abc.csv\"\n","destination = \"/Users/mdl-admin/Desktop/r33/data/processed/variables.xlsx\"\n","df_variables, _ = Processing.variables(source=source, destination=destination, isHTML=True)"],"cell_type":"code","outputs":[],"metadata":{},"execution_count":0},{"cell_type":"markdown","source":[" ##### Device characteristics"],"metadata":{}},{"source":["source = \"/Users/mdl-admin/Desktop/r33/data/processed/summary.xlsx\"\n","destination = \"/Users/mdl-admin/Desktop/r33/data/processed/device.xlsx\"\n","df_device, _ = Processing.device(source=source, destination=destination, isHTML=True)\n",""],"cell_type":"code","outputs":[],"metadata":{},"execution_count":0},{"cell_type":"markdown","source":[" ##### demographics characteristics"],"metadata":{}},{"source":["source = \"/Users/mdl-admin/Desktop/r33/data/redcap/report.xlsx\"\n","destination = \"/Users/mdl-admin/Desktop/r33/data/processed/demographics.xlsx\"\n","df_demographics = Processing.demographics(source=source, destination=destination, isHTML=True)\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n",""],"cell_type":"code","outputs":[],"metadata":{},"execution_count":0}],"nbformat":4,"nbformat_minor":2,"metadata":{"language_info":{"name":"python","codemirror_mode":{"name":"ipython","version":3}},"orig_nbformat":2,"file_extension":".py","mimetype":"text/x-python","name":"python","npconvert_exporter":"python","pygments_lexer":"ipython3","version":3}}